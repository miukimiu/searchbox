
/**
 * Author      : Subash Selvaraj
 * Version     : 1.0
 * website     : http://subashselvaraj.com/
 * Plugin url  : https://github.com/sesubash/searchbox
 * Created date: 14-07-2014
 * Last updated: 09-10-2014
 */
!function(t){t.fn.searchbox=function(e){var n=this,s={wrapper:'<div class="searchbox-wrapper"/>',method:"POST",name:"search",ajax:!1};return n.settings=t.extend({},s,e),n.destroy=function(){n.each(function(){t.removeData(this);var e=t(this),n=e.find("input"),s=e.parent().parent();n.unbind("click"),s.unbind("click")})},n.onSubmit=function(){var e=t(this).serialize(),s=n.settings.ajaxOptions;return s.url=n.settings.url,s.method=n.settings.method,s.data=e,t.ajax(s),!1},n.each(function(){var e=t(this);e.addClass("search-box"),e.wrap(n.settings.wrapper),e.append("<div class='input-wrapper'><input class='search-input' type='text' name='"+n.settings.name+"'></div>"),e.wrap("<form id='searchbox-form' method='"+n.settings.method+"' action='"+n.settings.url+"'>");var s=e.find("input"),i=e.find(".input-wrapper"),a=e.parent().parent();if(a.on("click",function(e){t(this).toggleClass("active"),s.focus(),e.preventDefault(),e.stopPropagation()}),"undefined"!==n.settings.placement)switch(n.settings.placement){case"right":i.css("left",e.width());break;case"left":i.css("right",e.width())}else i.css("left",e.width());i.css("top",-e.height()/2),s.on("click",function(t){t.preventDefault(),t.stopPropagation()}),t(document).on("click",function(){a.hasClass("active")?a.removeClass("active"):""}),n.settings.ajax&&t("#searchbox-form").submit(n.onSubmit)})}}(jQuery);