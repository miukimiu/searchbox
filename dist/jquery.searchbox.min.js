!function(a){a.fn.searchbox=function(b){var c=this,d={wrapper:'<div class="searchbox-wrapper"/>',method:"POST",name:"search",ajax:!1};return c.settings=a.extend({},d,b),c.destroy=function(){c.each(function(){a.removeData(this);var b=a(this),c=b.find("input"),d=b.parent().parent();c.unbind("click"),d.unbind("click")})},c.onSubmit=function(){var b=a(this).serialize(),d={url:c.settings.url,method:c.settings.method,data:b};return void 0!=c.settings.success&&"function"==typeof c.settings.success?d.success=c.settings.success:"",void 0!=c.settings.error&&"function"==typeof c.settings.error?d.error=c.settings.error:"",a.ajax(d),!1},c.each(function(){var b=a(this);b.addClass("search-box"),b.wrap(c.settings.wrapper),b.append("<div class='input-wrapper'><input class='search-input' type='text' name='"+c.settings.name+"'></div>"),b.wrap("<form id='searchbox-form' method='"+c.settings.method+"' action='"+c.settings.url+"'></form>");var d=b.find("input"),e=b.find(".input-wrapper"),f=b.parent().parent();if(f.on("click",function(b){a(this).hasClass("active")?a(this).removeClass("active"):a(this).addClass("active"),d.focus(),b.preventDefault(),b.stopPropagation()}),"undefined"!==c.settings.position)switch(c.settings.position){case"right":e.css("left",b.width());break;case"left":e.css("right",b.width())}else e.css("left",b.width());e.css("top",-b.height()/2),d.on("click",function(a){a.preventDefault(),a.stopPropagation()}),a(document).on("click",function(){f.hasClass("active")?f.removeClass("active"):""}),c.settings.ajax&&a("#searchbox-form").submit(c.onSubmit)})}}(jQuery);