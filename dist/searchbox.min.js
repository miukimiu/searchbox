
/**
 * Author      : Subash Selvaraj
 * Version     : 1.0
 * website     : http://subashselvaraj.com/
 * Plugin url  : https://github.com/sesubash/searchbox
 * Created date: 14-07-2014
 * Last updated: 08-10-2014
 */
!function(t){t.fn.searchbox=function(s){var e=this,i={wrapper:'<div class="searchbox-wrapper"/>',method:"POST",name:"search",ajax:!1};return e.settings=t.extend({},i,s),e.destroy=function(){e.each(function(){t.removeData(this);var s=t(this),e=s.find("input"),i=s.parent().parent();e.unbind("click"),i.unbind("click")})},e.onSubmit=function(){var s=t(this).serialize(),i={url:e.settings.url,method:e.settings.method,data:s};return void 0!=e.settings.success&&"function"==typeof e.settings.success?i.success=e.settings.success:"",void 0!=e.settings.error&&"function"==typeof e.settings.error?i.error=e.settings.error:"",t.ajax(i),!1},e.each(function(){var s=t(this);s.addClass("search-box"),s.wrap(e.settings.wrapper),s.append("<div class='input-wrapper'><input class='search-input' type='text' name='"+e.settings.name+"'></div>"),s.wrap("<form id='searchbox-form' method='"+e.settings.method+"' action='"+e.settings.url+"'>");var i=s.find("input"),n=s.find(".input-wrapper"),a=s.parent().parent();if(a.on("click",function(s){t(this).toggleClass("active"),i.focus(),s.preventDefault(),s.stopPropagation()}),"undefined"!==e.settings.position)switch(e.settings.position){case"right":n.css("left",s.width());break;case"left":n.css("right",s.width())}else n.css("left",s.width());n.css("top",-s.height()/2),i.on("click",function(t){t.preventDefault(),t.stopPropagation()}),t(document).on("click",function(){a.hasClass("active")?a.removeClass("active"):""}),e.settings.ajax&&t("#searchbox-form").submit(e.onSubmit)})}}(jQuery);